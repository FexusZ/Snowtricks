{% extends 'base.html.twig' %}
{% block body %}
    <div class="jumbotron text-center">
        <h1> Création de figure</h1>
    </div>
    <div class="container mt-5">
        {{ form_start(form) }}
        {{ form_row(form.figure) }}
        {{ form_row(form.description) }}
        {{ form_row(form.groupe) }}
        {{ form_row(form.images) }}
        <div class="video">
            {{ form_row(form.videos) }}
            <div class="text-center">
                <legend class="col-form-label">Ajouter des vidéos : <img src="{{ asset("uploads") }}/plus.png" class="plus"></legend>
            </div>
        </div>
        
        <div class="text-right">
            <input type="submit" class="btn btn-success" value="Créer une nouvelle figure">
        </div>
        {{ form_end(form) }}
    </div>

    <script type="text/javascript">
        $(function ()
        {
            $(document).ready(function()
            {
                var input = $('#figure_videos_video').data('prototype');
                var nb = $('#figure_videos>.form-group>#figure_videos_video>.form-group').length + 1;
                input = input.replace(/__name__label__/g, 'Url vidéo '+nb);

                input = input.replace(/__name__/g, '');
                var html = $('#figure_videos>.form-group>#figure_videos_video').html();
                console.log(input);
                $('#figure_videos>.form-group>#figure_videos_video').html(html+input);
            })

            $('.plus').click(function()
            {
                var input = $('#figure_videos_video').data('prototype');
                var nb = $('#figure_videos>.form-group>#figure_videos_video>.form-group').length + 1;
                input = input.replace(/__name__label__/g, 'Url vidéo '+nb);

                input = input.replace(/__name__/g, '');
                var html = $('#figure_videos>.form-group>#figure_videos_video').html();
                console.log(input);
                $('#figure_videos>.form-group>#figure_videos_video').html(html+input);
            });
        });
    </script>
{% endblock %}